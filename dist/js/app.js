(function(e){function t(t){for(var s,r,_=t[0],a=t[1],c=t[2],l=0,u=[];l<_.length;l++)r=_[l],o[r]&&u.push(o[r][0]),o[r]=0;for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s]);d&&d(t);while(u.length)u.shift()();return n.push.apply(n,c||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],s=!0,_=1;_<i.length;_++){var a=i[_];0!==o[a]&&(s=!1)}s&&(n.splice(t--,1),e=r(r.s=i[0]))}return e}var s={},o={app:0},n=[];function r(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=s,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(i,s,function(t){return e[t]}.bind(null,s));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var _=window["webpackJsonp"]=window["webpackJsonp"]||[],a=_.push.bind(_);_.push=t,_=_.slice();for(var c=0;c<_.length;c++)t(_[c]);var d=a;n.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"034f":function(e,t,i){"use strict";var s=i("c21b"),o=i.n(s);o.a},"199c":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("6762"),core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2fdb"),core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_1__),_Users_Jackie_OneDrive_Microsoft_Work_figma_distributor_desktop_node_modules_babel_runtime_helpers_builtin_es6_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("8afe"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("456d"),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("cadf"),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("551c"),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("097d"),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_7__);__webpack_exports__["a"]={data:function(){return{modalOpened:!1,direction:"horizontal",spacing:"",singleSelect:!1,smallNudgeAmount:1,bigNudgeAmount:10}},mounted:function(){console.log("mounted")},computed:{disabled:function(){return!(!isNaN(parseInt(this.spacing))||""===this.spacing)||this.singleSelect}},methods:{openModal:function(){this.modalOpened=!0,this.$refs.modal.shift.left=window.innerWidth-230-230,this.$refs.modal.shift.top=80,this.$refs.spacingInput.focus(),this.smallNudgeAmount=App._state.mirror.appModel.smallNudgeAmount,this.bigNudgeAmount=App._state.mirror.appModel.bigNudgeAmount},modalClosed:function(){this.modalOpened=!1},toggleModal:function(){this.modalOpened?this.hide():this.show()},show:function(){this.$modal.show("modal")},hide:function(){this.$modal.hide("modal"),null!==document.querySelector("#findButton")&&(document.querySelector("#findButton").style.backgroundColor="")},distribute:function distribute(){var spacing=""===this.spacing?"":eval(this.spacing),direction=this.direction;if(""===spacing)"horizontal"===direction?App.triggerAction("distribute-horizontal-spacing"):App.triggerAction("distribute-vertical-spacing");else if(spacing=parseInt(spacing),"horizontal"===direction){App.triggerAction("pack-horizontal");var selectedNodes=Object.keys(App._state.mirror.sceneGraphSelection),boundsObj=App.sendMessage("getBoundsForNodes",{nodeIds:selectedNodes}).args,boundsX=Object.keys(boundsObj).map(function(e){return boundsObj[e].x}),rightLayer=selectedNodes[boundsX.indexOf(Math.max.apply(Math,Object(_Users_Jackie_OneDrive_Microsoft_Work_figma_distributor_desktop_node_modules_babel_runtime_helpers_builtin_es6_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__["a"])(boundsX)))];App.sendMessage("clearSelection"),App.sendMessage("addToSelection",{nodeIds:[rightLayer]}),setTimeout(function(){var e=App._state.mirror.selectionProperties.x;App.updateSelectionProperties({x:e+spacing*(selectedNodes.length-1)}),App.sendMessage("clearSelection"),App.sendMessage("addToSelection",{nodeIds:selectedNodes}),App.triggerAction("distribute-horizontal-spacing")},20)}else{App.triggerAction("pack-vertical");var selectedNodes=Object.keys(App._state.mirror.sceneGraphSelection),boundsObj=App.sendMessage("getBoundsForNodes",{nodeIds:selectedNodes}).args,boundsY=Object.keys(boundsObj).map(function(e){return boundsObj[e].y}),bottomLayer=selectedNodes[boundsY.indexOf(Math.max.apply(Math,Object(_Users_Jackie_OneDrive_Microsoft_Work_figma_distributor_desktop_node_modules_babel_runtime_helpers_builtin_es6_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__["a"])(boundsY)))];App.sendMessage("clearSelection"),App.sendMessage("addToSelection",{nodeIds:[bottomLayer]}),setTimeout(function(){var e=App._state.mirror.selectionProperties.y;App.updateSelectionProperties({y:e+spacing*(selectedNodes.length-1)}),App.sendMessage("clearSelection"),App.sendMessage("addToSelection",{nodeIds:selectedNodes}),App.triggerAction("distribute-vertical-spacing")},20)}this.spacing=spacing,this.$refs.spacingInput.focus(),this.$refs.spacingInput.select()},handleInputKeydown:function(e){13===e.which&&this.distribute(),38!==e.which||e.shiftKey||isNaN(parseInt(this.spacing))||(this.spacing=parseInt(this.spacing)+this.smallNudgeAmount),40!==e.which||e.shiftKey||isNaN(parseInt(this.spacing))||(this.spacing=parseInt(this.spacing)-this.smallNudgeAmount),38===e.which&&e.shiftKey&&!isNaN(parseInt(this.spacing))&&(this.spacing=parseInt(this.spacing)+this.bigNudgeAmount),40===e.which&&e.shiftKey&&!isNaN(parseInt(this.spacing))&&(this.spacing=parseInt(this.spacing)-this.bigNudgeAmount),38!==e.which||e.shiftKey||""!==this.spacing||(this.spacing=0+this.smallNudgeAmount),40!==e.which||e.shiftKey||""!==this.spacing||(this.spacing=0-this.smallNudgeAmount),38===e.which&&e.shiftKey&&""===this.spacing&&(this.spacing=0+this.bigNudgeAmount),40===e.which&&e.shiftKey&&""===this.spacing&&(this.spacing=0-this.bigNudgeAmount),e.metaKey&&e.shiftKey&&68===e.keyCode&&(e.preventDefault(),document.querySelector('[data-tooltip="distribute-horizontal-spacing"]').className.includes("iconButtonDisabled")||this.toggleModal())}}}},"56d7":function(e,t,i){"use strict";i.r(t);i("ac6a"),i("6762"),i("2fdb"),i("cadf"),i("551c"),i("097d");var s=i("2b0e"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"distributor"}},[i("modal",{ref:"modal",attrs:{name:"modal",draggable:"#header",pivotX:0,pivotY:0,width:"230",height:"auto"},on:{opened:e.openModal,closed:e.modalClosed}},[i("div",{attrs:{id:"header"}},[i("div",{attrs:{id:"title"}},[e._v("Distribute layers")]),i("div",{ref:"closeButton",attrs:{id:"closeButton"},on:{click:e.hide}})]),i("div",{attrs:{id:"distributorBody"}},[i("div",{attrs:{id:"directionBlock"}},[i("div",{staticClass:"label"},[e._v("Direction")]),i("div",{attrs:{id:"directionPicker"}},[i("div",{class:{directionButton:!0,buttonActive:"horizontal"===e.direction},attrs:{id:"horizontalButton"},on:{click:function(t){e.direction="horizontal"}}},[e._v("Horizontal")]),i("div",{class:{directionButton:!0,buttonActive:"vertical"===e.direction},attrs:{id:"verticalButton"},on:{click:function(t){e.direction="vertical"}}},[e._v("Vertical")])])]),i("div",{attrs:{id:"spacingBlock"}},[i("div",{staticClass:"label"},[e._v("Spacing")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.spacing,expression:"spacing"}],ref:"spacingInput",staticClass:"distributorInput",attrs:{placeholder:"Auto"},domProps:{value:e.spacing},on:{keydown:e.handleInputKeydown,focus:function(t){e.$refs.spacingInput.select()},input:function(t){t.target.composing||(e.spacing=t.target.value)}}})])]),i("div",{attrs:{id:"distributorFooter"}},[i("button",{attrs:{id:"distributeButton",disabled:e.disabled},on:{click:e.distribute}},[e._v("Distribute")])])])],1)},n=[],r=i("199c"),_=r["a"],a=(i("034f"),i("2877")),c=Object(a["a"])(_,o,n,!1,null,null,null);c.options.__file="App.vue";var d=c.exports,l=i("1881"),u=i.n(l);s["a"].use(u.a),s["a"].config.productionTip=!1;var p=document.getElementById("react-page"),g=document.createElement("div");g.id="distributorApp",p.parentNode.insertBefore(g,p.nextSibling),window.vue=new s["a"]({el:"#distributorApp",render:function(e){return e(d)}});var b=setInterval(h,111);function h(){null!==document.querySelector('[data-tooltip="align-bottom"]')&&!1!==b&&(clearInterval(b),b=!1,f(),document.querySelector("#distributorButton").disabled=document.querySelector('[data-tooltip="distribute-horizontal-spacing"]').className.includes("iconButtonDisabled"),m.observe(document.querySelector('[data-tooltip="distribute-horizontal-spacing"]'),{attributes:!0,characterData:!1,childList:!1,subtree:!1,attributeOldValue:!1,characterDataOldValue:!1}))}var m=new MutationObserver(function(e){e.forEach(function(e){e.target.className.includes("iconButtonDisabled")&&window.vue.$children[0].modalOpened?window.vue.$children[0].singleSelect=!0:window.vue.$children[0].singleSelect=!1,document.querySelector("#distributorButton").disabled=e.target.className.includes("iconButtonDisabled")})});function f(){document.querySelector('[data-tooltip="distribute-horizontal-spacing"]').style.display="none",document.querySelector('[data-tooltip="distribute-vertical-spacing"]').style.display="none";var e=document.querySelector('[data-tooltip="align-bottom"]'),t=document.createElement("button");t.id="distributorButton",t.innerText="Ɨ",t.style.fontFamily="FigmaIcons",e.parentNode.insertBefore(t,e.nextSibling);var i=window.vue.$children[0];t.addEventListener("click",function(){document.querySelector('[data-tooltip="distribute-horizontal-spacing"]').className.includes("iconButtonDisabled")||i.toggleModal()},!1),document.querySelector(".focus-target").onkeydown=function(e){e.metaKey&&e.shiftKey&&68===e.keyCode&&(e.preventDefault(),document.querySelector('[data-tooltip="distribute-horizontal-spacing"]').className.includes("iconButtonDisabled")||i.toggleModal())}}},c21b:function(e,t,i){}});